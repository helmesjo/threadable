libs =
import libs += \
  threadable%lib{threadable} \
  google-benchmark%lib{benchmark} \
  doctest%lib{doctest} \
  libnanobench%lib{nanobench}

switch $cxx.class: regex.match
{
  case 'gcc' | 'clang.*'
    import libs += libtbb%lib{tbb}
}

exe{*}:
{
  test = true
  install = false
}

exe{threadable-benchmarks}: {hxx ixx txx cxx}{**} $libs

cxx.poptions =+ "-I$out_root" "-I$src_root"
